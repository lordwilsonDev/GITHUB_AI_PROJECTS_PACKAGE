
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   M1 Optimization Agent - Direct Optimization Demo           â•‘
â•‘   Optimizing Apple Silicon for Local LLM Inference           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


============================================================
STEP 1: System Status Check
============================================================

ðŸ“Š System Information:
   â€¢ Total RAM: 16.0 GB
   â€¢ Available RAM: 5.5 GB
   â€¢ Used RAM: 7.6 GB (65.8%)
   â€¢ CPU Usage: 33.0%
   â€¢ Active Cores: 10

ðŸ”§ Ollama Status:
   â€¢ Installed: âœ… Yes
   â€¢ Running: âœ… Yes
   â€¢ Version: ollama version is 0.13.0

============================================================
STEP 2: Safety Pre-Check
============================================================

ðŸ›¡ï¸  Safety Check Results:
   â€¢ Status: âœ… SAFE

============================================================
STEP 3: Available Optimizations
============================================================

ðŸŽ¯ System Optimizations:
   1. Disable WindowServer animations
   2. Disable Spotlight indexing
   3. Reduce transparency effects
   4. Disable background services

ðŸš€ Ollama Optimizations:
   1. Set OLLAMA_NUM_PARALLEL=1 (prevent OOM)
   2. Set OLLAMA_MAX_LOADED_MODELS=1 (save RAM)
   3. Configure optimal keep-alive settings

âš¡ Process Optimizations:
   1. Promote Ollama to Performance cores
   2. Disable App Nap for inference processes
   3. Set high QoS priority

============================================================
STEP 4: Applying Safe Optimizations
============================================================

ðŸ’¾ Creating restore point...
   âœ… Restore point created: restore_1765132684

ðŸš€ Configuring Ollama environment variables...
   âœ… Set OLLAMA_NUM_PARALLEL=1
   âœ… Set OLLAMA_MAX_LOADED_MODELS=1
   âœ… Set OLLAMA_KEEP_ALIVE=5m

   â„¹ï¸  Note: Restart Ollama for changes to take effect:
      killall ollama && ollama serve

âš¡ Optimizing Ollama process priority...
   â„¹ï¸  Ollama is running - process optimization available
   â„¹ï¸  Run with sudo for process priority changes

============================================================
STEP 5: Recommendations
============================================================

ðŸ“‹ Additional Manual Optimizations:

   System Settings:
   â€¢ System Settings > Accessibility > Display > Reduce Transparency
   â€¢ System Settings > Spotlight > Disable indexing for project folders

   Terminal Commands (require sudo):
   â€¢ Disable animations:
     defaults write NSGlobalDomain NSAutomaticWindowAnimationsEnabled -bool false
   â€¢ Disable Spotlight:
     sudo mdutil -i off /
   â€¢ Restart Dock:
     killall Dock

   Model Selection for Your RAM:
   â€¢ Recommended: Llama-3.1 8B (Q5_K_M) - ~5.5GB
   â€¢ Good: Mistral 7B (Q8_0) - ~7GB
   â€¢ Maximum: Llama-3.1 13B (Q4_K_M) - ~8GB

============================================================
STEP 6: System Status After Optimization
============================================================

ðŸ“Š Current System State:
   â€¢ Available RAM: 5.5 GB
   â€¢ CPU Usage: 31.1%

âœ… Optimization demo complete!

ðŸ’¡ To restore previous settings:
   python3 scripts/safety_check.py --restore restore_1765132684

============================================================
