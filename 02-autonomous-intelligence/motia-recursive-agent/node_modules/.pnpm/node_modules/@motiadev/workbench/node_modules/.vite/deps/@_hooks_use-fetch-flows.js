import {
  useFlowStore
} from "./chunk-BEWTVED5.js";
import "./chunk-7TND2WZU.js";
import "./chunk-AUY3FXAD.js";
import {
  useStreamGroup
} from "./chunk-XBTJWNXQ.js";
import "./chunk-APFLTC63.js";
import "./chunk-UZXVLKWH.js";
import {
  require_react
} from "./chunk-CISLU2WX.js";
import {
  __toESM
} from "./chunk-7D4SUZUM.js";

// node_modules/.pnpm/@motiadev+workbench@0.13.1-beta.162_@types+node@24.10.1_eslint@9.39.1_jiti@2.6.1__jiti@_bdf642d017f2f3a492187b6630cbcf7c/node_modules/@motiadev/workbench/dist/src/hooks/use-fetch-flows.js
var import_react = __toESM(require_react());
var streamGroupArgs = { streamName: "__motia.flows", groupId: "default" };
var useFetchFlows = () => {
  const setFlows = useFlowStore((state) => state.setFlows);
  const selectFlowId = useFlowStore((state) => state.selectFlowId);
  const clearSelectedFlowId = useFlowStore((state) => state.clearSelectedFlowId);
  const selectedFlowId = useFlowStore((state) => state.selectedFlowId);
  const { data: flows } = useStreamGroup(streamGroupArgs);
  (0, import_react.useEffect)(() => {
    if (flows)
      setFlows(flows.map((flow) => flow.id));
  }, [flows, setFlows]);
  (0, import_react.useEffect)(() => {
    const hasFlows = flows.length > 0;
    const isSelectedFlowValid = selectedFlowId && flows.some((flow) => flow.id === selectedFlowId);
    if (!hasFlows && selectedFlowId) {
      clearSelectedFlowId();
      return;
    }
    if (hasFlows && (!selectedFlowId || !isSelectedFlowValid)) {
      selectFlowId(flows[0].id);
    }
  }, [flows, selectedFlowId, selectFlowId, clearSelectedFlowId]);
};
export {
  useFetchFlows
};
//# sourceMappingURL=@_hooks_use-fetch-flows.js.map
