import {
  useFlowStore
} from "./chunk-HLMP5Y5B.js";
import "./chunk-PK4VJZPQ.js";
import "./chunk-RJZT4F3H.js";
import {
  useStreamGroup
} from "./chunk-XVMSWGPZ.js";
import "./chunk-I7TDBSPH.js";
import "./chunk-KKHR6VLR.js";
import {
  require_react
} from "./chunk-IP6FQFDQ.js";
import {
  __toESM
} from "./chunk-7D4SUZUM.js";

// node_modules/@motiadev/workbench/dist/src/hooks/use-fetch-flows.js
var import_react = __toESM(require_react());
var streamGroupArgs = { streamName: "__motia.flows", groupId: "default" };
var useFetchFlows = () => {
  const setFlows = useFlowStore((state) => state.setFlows);
  const selectFlowId = useFlowStore((state) => state.selectFlowId);
  const clearSelectedFlowId = useFlowStore((state) => state.clearSelectedFlowId);
  const selectedFlowId = useFlowStore((state) => state.selectedFlowId);
  const { data: flows } = useStreamGroup(streamGroupArgs);
  (0, import_react.useEffect)(() => {
    if (flows)
      setFlows(flows.map((flow) => flow.id));
  }, [flows, setFlows]);
  (0, import_react.useEffect)(() => {
    const hasFlows = flows.length > 0;
    const isSelectedFlowValid = selectedFlowId && flows.some((flow) => flow.id === selectedFlowId);
    if (!hasFlows && selectedFlowId) {
      clearSelectedFlowId();
      return;
    }
    if (hasFlows && (!selectedFlowId || !isSelectedFlowValid)) {
      selectFlowId(flows[0].id);
    }
  }, [flows, selectedFlowId, selectFlowId, clearSelectedFlowId]);
};
export {
  useFetchFlows
};
//# sourceMappingURL=@_hooks_use-fetch-flows.js.map
