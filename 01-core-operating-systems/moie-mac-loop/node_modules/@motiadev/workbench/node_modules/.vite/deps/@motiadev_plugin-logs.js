import {
  Gh,
  Kg,
  Kh,
  Ue,
  Vh,
  X,
  Xh,
  qg,
  qm
} from "./chunk-3QXVUN3L.js";
import {
  Stream
} from "./chunk-KKHR6VLR.js";
import "./chunk-X4J2J4RF.js";
import {
  require_react
} from "./chunk-IP6FQFDQ.js";
import {
  __toESM
} from "./chunk-7D4SUZUM.js";

// node_modules/@motiadev/plugin-logs/dist/index.js
var _ = __toESM(require_react());
var import_react = __toESM(require_react());
var Re = (e) => {
  let t;
  const n = /* @__PURE__ */ new Set(), r = (d, g) => {
    const m = typeof d == "function" ? d(t) : d;
    if (!Object.is(m, t)) {
      const y = t;
      t = g ?? (typeof m != "object" || m === null) ? m : Object.assign({}, t, m), n.forEach((E) => E(t, y));
    }
  }, l = () => t, c = { setState: r, getState: l, getInitialState: () => u, subscribe: (d) => (n.add(d), () => n.delete(d)) }, u = t = e(r, l, c);
  return c;
};
var Et = (e) => e ? Re(e) : Re;
var At = (e) => e;
function St(e, t = At) {
  const n = import_react.default.useSyncExternalStore(
    e.subscribe,
    import_react.default.useCallback(() => t(e.getState()), [e, t]),
    import_react.default.useCallback(() => t(e.getInitialState()), [e, t])
  );
  return import_react.default.useDebugValue(n), n;
}
var kt = (e) => {
  const t = Et(e), n = (r) => St(t, r);
  return Object.assign(n, t), n;
};
var _t = (e) => kt;
var ee = _t()((e) => ({
  logs: [],
  selectedLogId: void 0,
  addLog: (t) => e((n) => n.logs.find((r) => r.id === t.id) ? n : {
    logs: [t, ...n.logs]
  }),
  setLogs: (t) => e({
    logs: [...t].reverse()
  }),
  resetLogs: () => {
    e({ logs: [] });
  },
  selectLogId: (t) => e({ selectedLogId: t })
}));
var Tt = "__motia.logs";
var Nt = "default";
var Ot = "log";
var Rt = () => {
  const t = new Stream(window.location.origin.replace("http", "ws")).subscribeGroup(Tt, Nt), n = ee.getState();
  t.addChangeListener((r) => {
    r && n.setLogs(r);
  }), t.onEvent(Ot, n.addLog);
};
var ae = { exports: {} };
var Q = {};
var De;
function Dt() {
  return De || (De = 1, (function() {
    function e(s) {
      if (s == null) return null;
      if (typeof s == "function")
        return s.$$typeof === Y ? null : s.displayName || s.name || null;
      if (typeof s == "string") return s;
      switch (s) {
        case C:
          return "Fragment";
        case A:
          return "Profiler";
        case N:
          return "StrictMode";
        case h:
          return "Suspense";
        case S:
          return "SuspenseList";
        case O:
          return "Activity";
      }
      if (typeof s == "object")
        switch (typeof s.tag == "number" && console.error(
          "Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."
        ), s.$$typeof) {
          case w:
            return "Portal";
          case P:
            return (s.displayName || "Context") + ".Provider";
          case D:
            return (s._context.displayName || "Context") + ".Consumer";
          case v:
            var p = s.render;
            return s = s.displayName, s || (s = p.displayName || p.name || "", s = s !== "" ? "ForwardRef(" + s + ")" : "ForwardRef"), s;
          case x:
            return p = s.displayName || null, p !== null ? p : e(s.type) || "Memo";
          case H:
            p = s._payload, s = s._init;
            try {
              return e(s(p));
            } catch {
            }
        }
      return null;
    }
    function t(s) {
      return "" + s;
    }
    function n(s) {
      try {
        t(s);
        var p = false;
      } catch {
        p = true;
      }
      if (p) {
        p = console;
        var b = p.error, f = typeof Symbol == "function" && Symbol.toStringTag && s[Symbol.toStringTag] || s.constructor.name || "Object";
        return b.call(
          p,
          "The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",
          f
        ), t(s);
      }
    }
    function r(s) {
      if (s === C) return "<>";
      if (typeof s == "object" && s !== null && s.$$typeof === H)
        return "<...>";
      try {
        var p = e(s);
        return p ? "<" + p + ">" : "<...>";
      } catch {
        return "<...>";
      }
    }
    function l() {
      var s = R.A;
      return s === null ? null : s.getOwner();
    }
    function i() {
      return Error("react-stack-top-frame");
    }
    function o(s) {
      if (L.call(s, "key")) {
        var p = Object.getOwnPropertyDescriptor(s, "key").get;
        if (p && p.isReactWarning) return false;
      }
      return s.key !== void 0;
    }
    function c(s, p) {
      function b() {
        T || (T = true, console.error(
          "%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",
          p
        ));
      }
      b.isReactWarning = true, Object.defineProperty(s, "key", {
        get: b,
        configurable: true
      });
    }
    function u() {
      var s = e(this.type);
      return $[s] || ($[s] = true, console.error(
        "Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release."
      )), s = this.props.ref, s !== void 0 ? s : null;
    }
    function d(s, p, b, f, j, z, le, ce) {
      return b = z.ref, s = {
        $$typeof: E,
        type: s,
        key: p,
        props: z,
        _owner: j
      }, (b !== void 0 ? b : null) !== null ? Object.defineProperty(s, "ref", {
        enumerable: false,
        get: u
      }) : Object.defineProperty(s, "ref", { enumerable: false, value: null }), s._store = {}, Object.defineProperty(s._store, "validated", {
        configurable: false,
        enumerable: false,
        writable: true,
        value: 0
      }), Object.defineProperty(s, "_debugInfo", {
        configurable: false,
        enumerable: false,
        writable: true,
        value: null
      }), Object.defineProperty(s, "_debugStack", {
        configurable: false,
        enumerable: false,
        writable: true,
        value: le
      }), Object.defineProperty(s, "_debugTask", {
        configurable: false,
        enumerable: false,
        writable: true,
        value: ce
      }), Object.freeze && (Object.freeze(s.props), Object.freeze(s)), s;
    }
    function g(s, p, b, f, j, z, le, ce) {
      var I = p.children;
      if (I !== void 0)
        if (f)
          if (U(I)) {
            for (f = 0; f < I.length; f++)
              m(I[f]);
            Object.freeze && Object.freeze(I);
          } else
            console.error(
              "React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead."
            );
        else m(I);
      if (L.call(p, "key")) {
        I = e(s);
        var q = Object.keys(p).filter(function(pt) {
          return pt !== "key";
        });
        f = 0 < q.length ? "{key: someKey, " + q.join(": ..., ") + ": ...}" : "{key: someKey}", M[I + f] || (q = 0 < q.length ? "{" + q.join(": ..., ") + ": ...}" : "{}", console.error(
          `A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,
          f,
          I,
          q,
          I
        ), M[I + f] = true);
      }
      if (I = null, b !== void 0 && (n(b), I = "" + b), o(p) && (n(p.key), I = "" + p.key), "key" in p) {
        b = {};
        for (var ue in p)
          ue !== "key" && (b[ue] = p[ue]);
      } else b = p;
      return I && c(
        b,
        typeof s == "function" ? s.displayName || s.name || "Unknown" : s
      ), d(
        s,
        I,
        z,
        j,
        l(),
        b,
        le,
        ce
      );
    }
    function m(s) {
      typeof s == "object" && s !== null && s.$$typeof === E && s._store && (s._store.validated = 1);
    }
    var y = import_react.default, E = Symbol.for("react.transitional.element"), w = Symbol.for("react.portal"), C = Symbol.for("react.fragment"), N = Symbol.for("react.strict_mode"), A = Symbol.for("react.profiler"), D = Symbol.for("react.consumer"), P = Symbol.for("react.context"), v = Symbol.for("react.forward_ref"), h = Symbol.for("react.suspense"), S = Symbol.for("react.suspense_list"), x = Symbol.for("react.memo"), H = Symbol.for("react.lazy"), O = Symbol.for("react.activity"), Y = Symbol.for("react.client.reference"), R = y.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE, L = Object.prototype.hasOwnProperty, U = Array.isArray, Z = console.createTask ? console.createTask : function() {
      return null;
    };
    y = {
      react_stack_bottom_frame: function(s) {
        return s();
      }
    };
    var T, $ = {}, k = y.react_stack_bottom_frame.bind(
      y,
      i
    )(), V = Z(r(i)), M = {};
    Q.Fragment = C, Q.jsx = function(s, p, b, f, j) {
      var z = 1e4 > R.recentlyCreatedOwnerStacks++;
      return g(
        s,
        p,
        b,
        false,
        f,
        j,
        z ? Error("react-stack-top-frame") : k,
        z ? Z(r(s)) : V
      );
    }, Q.jsxs = function(s, p, b, f, j) {
      var z = 1e4 > R.recentlyCreatedOwnerStacks++;
      return g(
        s,
        p,
        b,
        true,
        f,
        j,
        z ? Error("react-stack-top-frame") : k,
        z ? Z(r(s)) : V
      );
    };
  })()), Q;
}
var Ie;
function It() {
  return Ie || (Ie = 1, false ? ae.exports = Lt() : ae.exports = Dt()), ae.exports;
}
var a = It();
var Pt = (e) => e.replace(/([a-z0-9])([A-Z])/g, "$1-$2").toLowerCase();
var $t = (e) => e.replace(
  /^([A-Z])|[\s-_]+(\w)/g,
  (t, n, r) => r ? r.toUpperCase() : n.toLowerCase()
);
var Pe = (e) => {
  const t = $t(e);
  return t.charAt(0).toUpperCase() + t.slice(1);
};
var st = (...e) => e.filter((t, n, r) => !!t && t.trim() !== "" && r.indexOf(t) === n).join(" ").trim();
var Mt = (e) => {
  for (const t in e)
    if (t.startsWith("aria-") || t === "role" || t === "title")
      return true;
};
var Ft = {
  xmlns: "http://www.w3.org/2000/svg",
  width: 24,
  height: 24,
  viewBox: "0 0 24 24",
  fill: "none",
  stroke: "currentColor",
  strokeWidth: 2,
  strokeLinecap: "round",
  strokeLinejoin: "round"
};
var Ht = (0, import_react.forwardRef)(
  ({
    color: e = "currentColor",
    size: t = 24,
    strokeWidth: n = 2,
    absoluteStrokeWidth: r,
    className: l = "",
    children: i,
    iconNode: o,
    ...c
  }, u) => (0, import_react.createElement)(
    "svg",
    {
      ref: u,
      ...Ft,
      width: t,
      height: t,
      stroke: e,
      strokeWidth: r ? Number(n) * 24 / Number(t) : n,
      className: st("lucide", l),
      ...!i && !Mt(c) && { "aria-hidden": "true" },
      ...c
    },
    [
      ...o.map(([d, g]) => (0, import_react.createElement)(d, g)),
      ...Array.isArray(i) ? i : [i]
    ]
  )
);
var Ee = (e, t) => {
  const n = (0, import_react.forwardRef)(
    ({ className: r, ...l }, i) => (0, import_react.createElement)(Ht, {
      ref: i,
      iconNode: t,
      className: st(
        `lucide-${Pt(Pe(e))}`,
        `lucide-${e}`,
        r
      ),
      ...l
    })
  );
  return n.displayName = Pe(e), n;
};
var Ut = [
  ["path", { d: "m21 21-4.34-4.34", key: "14j7rj" }],
  ["circle", { cx: "11", cy: "11", r: "8", key: "4ej97u" }]
];
var Zt = Ee("search", Ut);
var Vt = [
  ["path", { d: "M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6", key: "miytrc" }],
  ["path", { d: "M3 6h18", key: "d0wm0j" }],
  ["path", { d: "M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2", key: "e791ji" }]
];
var zt = Ee("trash", Vt);
var Yt = [
  ["path", { d: "M18 6 6 18", key: "1bl5f8" }],
  ["path", { d: "m6 6 12 12", key: "d8bk6v" }]
];
var ot = Ee("x", Yt);
var it = (e) => {
  const t = new Date(Number(e));
  return `${t.toLocaleDateString("en-US", { year: void 0, month: "short", day: "2-digit" })}, ${t.toLocaleTimeString("en-US", { hour: "2-digit", minute: "2-digit", second: "2-digit", hourCycle: "h24" })}.${t.getMilliseconds().toString().padStart(3, "0")}`;
};
function Bt(e, t, n, r) {
  function l(i) {
    return i instanceof n ? i : new n(function(o) {
      o(i);
    });
  }
  return new (n || (n = Promise))(function(i, o) {
    function c(g) {
      try {
        d(r.next(g));
      } catch (m) {
        o(m);
      }
    }
    function u(g) {
      try {
        d(r.throw(g));
      } catch (m) {
        o(m);
      }
    }
    function d(g) {
      g.done ? i(g.value) : l(g.value).then(c, u);
    }
    d((r = r.apply(e, [])).next());
  });
}
var Wt = function() {
  var e = document.getSelection();
  if (!e.rangeCount)
    return function() {
    };
  for (var t = document.activeElement, n = [], r = 0; r < e.rangeCount; r++)
    n.push(e.getRangeAt(r));
  switch (t.tagName.toUpperCase()) {
    // .toUpperCase handles XHTML
    case "INPUT":
    case "TEXTAREA":
      t.blur();
      break;
    default:
      t = null;
      break;
  }
  return e.removeAllRanges(), function() {
    e.type === "Caret" && e.removeAllRanges(), e.rangeCount || n.forEach(function(l) {
      e.addRange(l);
    }), t && t.focus();
  };
};
var Jt = Wt;
var $e = {
  "text/plain": "Text",
  "text/html": "Url",
  default: "Text"
};
var qt = "Copy to clipboard: #{key}, Enter";
function Kt(e) {
  var t = (/mac os x/i.test(navigator.userAgent) ? "âŒ˜" : "Ctrl") + "+C";
  return e.replace(/#{\s*key\s*}/g, t);
}
function Gt(e, t) {
  var n, r, l, i, o, c, u = false;
  t || (t = {}), n = t.debug || false;
  try {
    l = Jt(), i = document.createRange(), o = document.getSelection(), c = document.createElement("span"), c.textContent = e, c.ariaHidden = "true", c.style.all = "unset", c.style.position = "fixed", c.style.top = 0, c.style.clip = "rect(0, 0, 0, 0)", c.style.whiteSpace = "pre", c.style.webkitUserSelect = "text", c.style.MozUserSelect = "text", c.style.msUserSelect = "text", c.style.userSelect = "text", c.addEventListener("copy", function(g) {
      if (g.stopPropagation(), t.format)
        if (g.preventDefault(), typeof g.clipboardData > "u") {
          n && console.warn("unable to use e.clipboardData"), n && console.warn("trying IE specific stuff"), window.clipboardData.clearData();
          var m = $e[t.format] || $e.default;
          window.clipboardData.setData(m, e);
        } else
          g.clipboardData.clearData(), g.clipboardData.setData(t.format, e);
      t.onCopy && (g.preventDefault(), t.onCopy(g.clipboardData));
    }), document.body.appendChild(c), i.selectNodeContents(c), o.addRange(i);
    var d = document.execCommand("copy");
    if (!d)
      throw new Error("copy command was unsuccessful");
    u = true;
  } catch (g) {
    n && console.error("unable to copy using execCommand: ", g), n && console.warn("trying IE specific stuff");
    try {
      window.clipboardData.setData(t.format || "text", e), t.onCopy && t.onCopy(window.clipboardData), u = true;
    } catch (m) {
      n && console.error("unable to copy using clipboardData: ", m), n && console.error("falling back to prompt"), r = Kt("message" in t ? t.message : qt), window.prompt(r, e);
    }
  } finally {
    o && (typeof o.removeRange == "function" ? o.removeRange(i) : o.removeAllRanges()), c && document.body.removeChild(c), l();
  }
  return u;
}
var Xt = Gt;
function B(e) {
  return Object.prototype.toString.call(e) === "[object Object]";
}
function te(e) {
  return Array.isArray(e) ? e.length : B(e) ? Object.keys(e).length : 0;
}
function Qt(e, t) {
  if (typeof e == "string")
    return e;
  try {
    return JSON.stringify(e, (n, r) => {
      switch (typeof r) {
        case "bigint":
          return String(r) + "n";
        case "number":
        case "boolean":
        case "object":
        case "string":
          return r;
        default:
          return String(r);
      }
    }, t);
  } catch (n) {
    return `${n.name}: ${n.message}` || "JSON.stringify failed";
  }
}
function en(e) {
  return Bt(this, void 0, void 0, function* () {
    try {
      yield navigator.clipboard.writeText(e);
    } catch {
      Xt(e);
    }
  });
}
function Me(e, t, n, r, l, i) {
  if (i && i.collapsed !== void 0)
    return !!i.collapsed;
  if (typeof r == "boolean")
    return r;
  if (typeof r == "number" && t > r)
    return true;
  const o = te(e);
  if (typeof r == "function") {
    const c = Ae(r, [{ node: e, depth: t, indexOrName: n, size: o }]);
    if (typeof c == "boolean")
      return c;
  }
  return !!(Array.isArray(e) && o > l || B(e) && o > l);
}
function Fe(e, t, n, r, l, i) {
  if (i && i.collapsed !== void 0)
    return !!i.collapsed;
  if (typeof r == "boolean")
    return r;
  if (typeof r == "number" && t > r)
    return true;
  const o = Math.ceil(e.length / 100);
  if (typeof r == "function") {
    const c = Ae(r, [{ node: e, depth: t, indexOrName: n, size: o }]);
    if (typeof c == "boolean")
      return c;
  }
  return !!(Array.isArray(e) && o > l || B(e) && o > l);
}
function G(e, t, n) {
  return typeof e == "boolean" ? e : !!(typeof e == "number" && t > e || e === "collapsed" && n || e === "expanded" && !n);
}
function Ae(e, t) {
  try {
    return e(...t);
  } catch (n) {
    reportError(n);
  }
}
function lt(e) {
  if (e === true || B(e) && e.add === true)
    return true;
}
function He(e) {
  if (e === true || B(e) && e.edit === true)
    return true;
}
function Se(e) {
  if (e === true || B(e) && e.delete === true)
    return true;
}
function tn(e) {
  return typeof e == "function";
}
function ct(e) {
  return !e || e.add === void 0 || !!e.add;
}
function Ue2(e) {
  return !e || e.edit === void 0 || !!e.edit;
}
function ke(e) {
  return !e || e.delete === void 0 || !!e.delete;
}
function oe(e) {
  return !e || e.enableClipboard === void 0 || !!e.enableClipboard;
}
function nn(e) {
  return !e || e.matchesURL === void 0 || !!e.matchesURL;
}
function rn(e, t) {
  return e === "string" ? t.trim().replace(/^\"([\s\S]+?)\"$/, "$1") : t;
}
var Ze;
function de() {
  return de = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n)
        Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, de.apply(this, arguments);
}
var _e = function(t) {
  return _.createElement("svg", de({
    xmlns: "http://www.w3.org/2000/svg",
    width: 16,
    height: 16,
    fill: "none",
    viewBox: "0 0 16 16"
  }, t), Ze || (Ze = _.createElement("path", {
    fill: "currentColor",
    d: "M12.473 5.806a.666.666 0 0 0-.946 0L8.473 8.86a.667.667 0 0 1-.946 0L4.473 5.806a.667.667 0 1 0-.946.94l3.06 3.06a2 2 0 0 0 2.826 0l3.06-3.06a.667.667 0 0 0 0-.94Z"
  })));
};
var Ve;
function pe() {
  return pe = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n)
        Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, pe.apply(this, arguments);
}
var an = function(t) {
  return _.createElement("svg", pe({
    xmlns: "http://www.w3.org/2000/svg",
    width: 24,
    height: 24,
    fill: "none",
    viewBox: "0 0 24 24"
  }, t), Ve || (Ve = _.createElement("path", {
    fill: "currentColor",
    d: "M17.542 2.5h-4.75a3.963 3.963 0 0 0-3.959 3.958v4.75a3.963 3.963 0 0 0 3.959 3.959h4.75a3.963 3.963 0 0 0 3.958-3.959v-4.75A3.963 3.963 0 0 0 17.542 2.5Zm2.375 8.708a2.378 2.378 0 0 1-2.375 2.375h-4.75a2.378 2.378 0 0 1-2.375-2.375v-4.75a2.378 2.378 0 0 1 2.375-2.375h4.75a2.378 2.378 0 0 1 2.375 2.375v4.75Zm-4.75 6.334a3.963 3.963 0 0 1-3.959 3.958h-4.75A3.963 3.963 0 0 1 2.5 17.542v-4.75a3.963 3.963 0 0 1 3.958-3.959.791.791 0 1 1 0 1.584 2.378 2.378 0 0 0-2.375 2.375v4.75a2.378 2.378 0 0 0 2.375 2.375h4.75a2.378 2.378 0 0 0 2.375-2.375.792.792 0 1 1 1.584 0Z"
  })));
};
var ze;
var Ye;
function ge() {
  return ge = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n)
        Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, ge.apply(this, arguments);
}
var sn = function(t) {
  return _.createElement("svg", ge({
    xmlns: "http://www.w3.org/2000/svg",
    width: 24,
    height: 24,
    fill: "none",
    viewBox: "0 0 24 24"
  }, t), ze || (ze = _.createElement("path", {
    fill: "currentColor",
    d: "M17.25 3H6.75A3.755 3.755 0 0 0 3 6.75v10.5A3.754 3.754 0 0 0 6.75 21h10.5A3.754 3.754 0 0 0 21 17.25V6.75A3.755 3.755 0 0 0 17.25 3Zm2.25 14.25a2.25 2.25 0 0 1-2.25 2.25H6.75a2.25 2.25 0 0 1-2.25-2.25V6.75A2.25 2.25 0 0 1 6.75 4.5h10.5a2.25 2.25 0 0 1 2.25 2.25v10.5Z"
  })), Ye || (Ye = _.createElement("path", {
    fill: "#14C786",
    d: "M10.312 14.45 7.83 11.906a.625.625 0 0 0-.896 0 .659.659 0 0 0 0 .918l2.481 2.546a1.264 1.264 0 0 0 .896.381 1.237 1.237 0 0 0 .895-.38l5.858-6.011a.658.658 0 0 0 0-.919.625.625 0 0 0-.896 0l-5.857 6.01Z"
  })));
};
function ie({ node: e, nodeMeta: t }) {
  const { customizeCopy: n, CopyComponent: r, CopiedComponent: l } = (0, import_react.useContext)(W), [i, o] = (0, import_react.useState)(false), c = (u) => {
    u.stopPropagation();
    const d = n(e, t);
    typeof d == "string" && d && en(d), o(true), setTimeout(() => o(false), 3e3);
  };
  return i ? typeof l == "function" ? a.jsx(l, { className: "json-view--copy", style: { display: "inline-block" } }) : a.jsx(sn, { className: "json-view--copy", style: { display: "inline-block" } }) : typeof r == "function" ? a.jsx(r, { onClick: c, className: "json-view--copy" }) : a.jsx(an, { onClick: c, className: "json-view--copy" });
}
function me({ indexOrName: e, value: t, depth: n, deleteHandle: r, editHandle: l, parent: i, parentPath: o }) {
  const { displayArrayIndex: c } = (0, import_react.useContext)(W), u = Array.isArray(i);
  return a.jsxs("div", Object.assign({ className: "json-view--pair" }, { children: [!u || u && c ? a.jsxs(a.Fragment, { children: [a.jsx("span", Object.assign({ className: typeof e == "number" ? "json-view--index" : "json-view--property" }, { children: e })), ":", " "] }) : a.jsx(a.Fragment, {}), a.jsx(ft, { node: t, depth: n + 1, deleteHandle: (d, g) => r(d, g), editHandle: (d, g, m, y) => l(d, g, m, y), parent: i, indexOrName: e, parentPath: o })] }));
}
var Be;
var We;
function ve() {
  return ve = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n)
        Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, ve.apply(this, arguments);
}
var Te = function(t) {
  return _.createElement("svg", ve({
    xmlns: "http://www.w3.org/2000/svg",
    width: 24,
    height: 24,
    fill: "none",
    viewBox: "0 0 24 24"
  }, t), Be || (Be = _.createElement("path", {
    fill: "currentColor",
    d: "M18.75 6h-2.325a3.757 3.757 0 0 0-3.675-3h-1.5a3.757 3.757 0 0 0-3.675 3H5.25a.75.75 0 0 0 0 1.5H6v9.75A3.754 3.754 0 0 0 9.75 21h4.5A3.754 3.754 0 0 0 18 17.25V7.5h.75a.75.75 0 1 0 0-1.5Zm-7.5-1.5h1.5A2.255 2.255 0 0 1 14.872 6H9.128a2.255 2.255 0 0 1 2.122-1.5Zm5.25 12.75a2.25 2.25 0 0 1-2.25 2.25h-4.5a2.25 2.25 0 0 1-2.25-2.25V7.5h9v9.75Z"
  })), We || (We = _.createElement("path", {
    fill: "#DA0000",
    d: "M10.5 16.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 1 0-1.5 0v4.5a.75.75 0 0 0 .75.75ZM13.5 16.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 1 0-1.5 0v4.5a.75.75 0 0 0 .75.75Z"
  })));
};
var Je;
var qe;
function he() {
  return he = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n)
        Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, he.apply(this, arguments);
}
var ut = function(t) {
  return _.createElement("svg", he({
    xmlns: "http://www.w3.org/2000/svg",
    width: 24,
    height: 24,
    fill: "none",
    viewBox: "0 0 24 24"
  }, t), Je || (Je = _.createElement("path", {
    fill: "currentColor",
    d: "M21 6.75v10.5A3.754 3.754 0 0 1 17.25 21H6.75A3.754 3.754 0 0 1 3 17.25V6.75A3.754 3.754 0 0 1 6.75 3h10.5A3.754 3.754 0 0 1 21 6.75Zm-1.5 0c0-1.24-1.01-2.25-2.25-2.25H6.75C5.51 4.5 4.5 5.51 4.5 6.75v10.5c0 1.24 1.01 2.25 2.25 2.25h10.5c1.24 0 2.25-1.01 2.25-2.25V6.75Z"
  })), qe || (qe = _.createElement("path", {
    fill: "#14C786",
    d: "M15 12.75a.75.75 0 1 0 0-1.5h-2.25V9a.75.75 0 1 0-1.5 0v2.25H9a.75.75 0 1 0 0 1.5h2.25V15a.75.75 0 1 0 1.5 0v-2.25H15Z"
  })));
};
var Ke;
var Ge;
function je() {
  return je = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n)
        Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, je.apply(this, arguments);
}
var Ne = function(t) {
  return _.createElement("svg", je({
    xmlns: "http://www.w3.org/2000/svg",
    width: 24,
    height: 24,
    fill: "none",
    viewBox: "0 0 24 24"
  }, t), Ke || (Ke = _.createElement("path", {
    fill: "currentColor",
    d: "M12 3a9 9 0 1 0 9 9 9.01 9.01 0 0 0-9-9Zm0 16.5a7.5 7.5 0 1 1 7.5-7.5 7.509 7.509 0 0 1-7.5 7.5Z"
  })), Ge || (Ge = _.createElement("path", {
    fill: "#14C786",
    d: "m10.85 13.96-1.986-2.036a.5.5 0 0 0-.716 0 .527.527 0 0 0 0 .735l1.985 2.036a1.01 1.01 0 0 0 .717.305.99.99 0 0 0 .716-.305l4.686-4.808a.526.526 0 0 0 0-.735.5.5 0 0 0-.716 0l-4.687 4.809Z"
  })));
};
var Xe;
var Qe;
function be() {
  return be = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n)
        Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, be.apply(this, arguments);
}
var Oe = function(t) {
  return _.createElement("svg", be({
    xmlns: "http://www.w3.org/2000/svg",
    width: 24,
    height: 24,
    fill: "none",
    viewBox: "0 0 24 24"
  }, t), Xe || (Xe = _.createElement("path", {
    fill: "#DA0000",
    d: "M15 9a.75.75 0 0 0-1.06 0L12 10.94 10.06 9A.75.75 0 0 0 9 10.06L10.94 12 9 13.94A.75.75 0 0 0 10.06 15L12 13.06 13.94 15A.75.75 0 0 0 15 13.94L13.06 12 15 10.06A.75.75 0 0 0 15 9Z"
  })), Qe || (Qe = _.createElement("path", {
    fill: "currentColor",
    d: "M12 3a9 9 0 1 0 9 9 9.01 9.01 0 0 0-9-9Zm0 16.5a7.5 7.5 0 1 1 7.5-7.5 7.509 7.509 0 0 1-7.5 7.5Z"
  })));
};
function on({ originNode: e, node: t, depth: n, index: r, deleteHandle: l, customOptions: i, startIndex: o, parent: c, parentPath: u }) {
  const { enableClipboard: d, src: g, onEdit: m, onChange: y, forceUpdate: E, displaySize: w, CustomOperation: C } = (0, import_react.useContext)(W), N = [...u, String(r)], [A, D] = (0, import_react.useState)(true), P = (0, import_react.useCallback)((S, x, H) => {
    e[S] = x, m && m({
      newValue: x,
      oldValue: H,
      depth: n,
      src: g,
      indexOrName: S,
      parentType: "array",
      parentPath: u
    }), y && y({ type: "edit", depth: n, src: g, indexOrName: S, parentType: "array", parentPath: u }), E();
  }, [t, m, y, E]), v = (S) => {
    e.splice(S, 1), l && l(S, u), E();
  }, h = a.jsxs(a.Fragment, { children: [!A && a.jsxs("span", Object.assign({ onClick: () => D(true), className: "jv-size-chevron" }, { children: [G(w, n, A) && a.jsxs("span", Object.assign({ className: "jv-size" }, { children: [te(t), " Items"] })), a.jsx(_e, { className: "jv-chevron" })] })), !A && d && oe(i) && a.jsx(ie, { node: t, nodeMeta: { depth: n, indexOrName: r, parent: c, parentPath: u, currentPath: N } }), typeof C == "function" ? a.jsx(C, { node: t }) : null] });
  return a.jsxs("div", { children: [a.jsx("span", { children: "[" }), h, A ? a.jsxs("button", Object.assign({ onClick: () => D(false), className: "jv-button" }, { children: [o, " ... ", o + t.length - 1] })) : a.jsx("div", Object.assign({ className: "jv-indent" }, { children: t.map((S, x) => a.jsx(me, { indexOrName: x + o, value: S, depth: n, parent: t, deleteHandle: v, editHandle: P, parentPath: u }, String(r) + String(x))) })), a.jsx("span", { children: "]" })] });
}
function ln({ node: e, depth: t, deleteHandle: n, indexOrName: r, customOptions: l, parent: i, parentPath: o }) {
  const c = typeof r < "u" ? [...o, String(r)] : o, u = [];
  for (let T = 0; T < e.length; T += 100)
    u.push(e.slice(T, T + 100));
  const { collapsed: d, enableClipboard: g, collapseObjectsAfterLength: m, editable: y, onDelete: E, src: w, onAdd: C, CustomOperation: N, onChange: A, forceUpdate: D, displaySize: P } = (0, import_react.useContext)(W), [v, h] = (0, import_react.useState)(Fe(e, t, r, d, m, l));
  (0, import_react.useEffect)(() => {
    h(Fe(e, t, r, d, m, l));
  }, [d, m]);
  const [S, x] = (0, import_react.useState)(false), H = () => {
    x(false), n && n(r, o), E && E({ value: e, depth: t, src: w, indexOrName: r, parentType: "array", parentPath: o }), A && A({
      type: "delete",
      depth: t,
      src: w,
      indexOrName: r,
      parentType: "array",
      parentPath: o
    });
  }, [O, Y] = (0, import_react.useState)(false), R = () => {
    const T = e;
    T.push(null), C && C({ indexOrName: T.length - 1, depth: t, src: w, parentType: "array", parentPath: o }), A && A({ type: "add", indexOrName: T.length - 1, depth: t, src: w, parentType: "array", parentPath: o }), D();
  }, L = S || O, U = () => {
    x(false), Y(false);
  }, Z = a.jsxs(a.Fragment, { children: [!v && !L && a.jsxs("span", Object.assign({ onClick: () => h(true), className: "jv-size-chevron" }, { children: [G(P, t, v) && a.jsxs("span", Object.assign({ className: "jv-size" }, { children: [e.length, " Items"] })), a.jsx(_e, { className: "jv-chevron" })] })), L && a.jsx(Ne, { className: "json-view--edit", style: { display: "inline-block" }, onClick: O ? R : H }), L && a.jsx(Oe, { className: "json-view--edit", style: { display: "inline-block" }, onClick: U }), !v && !L && g && oe(l) && a.jsx(ie, { node: e, nodeMeta: { depth: t, indexOrName: r, parent: i, parentPath: o, currentPath: c } }), !v && !L && lt(y) && ct(l) && a.jsx(ut, { className: "json-view--edit", onClick: () => {
    R();
  } }), !v && !L && Se(y) && ke(l) && n && a.jsx(Te, { className: "json-view--edit", onClick: () => x(true) }), typeof N == "function" ? a.jsx(N, { node: e }) : null] });
  return a.jsxs(a.Fragment, { children: [a.jsx("span", { children: "[" }), Z, v ? a.jsx("button", Object.assign({ onClick: () => h(false), className: "jv-button" }, { children: "..." })) : a.jsx("div", Object.assign({ className: "jv-indent" }, { children: u.map((T, $) => a.jsx(on, { originNode: e, node: T, depth: t, index: $, startIndex: $ * 100, deleteHandle: n, customOptions: l, parentPath: o }, String(r) + String($))) })), a.jsx("span", { children: "]" }), v && G(P, t, v) && a.jsxs("span", Object.assign({ onClick: () => h(false), className: "jv-size" }, { children: [e.length, " Items"] }))] });
}
function cn({ node: e, depth: t, indexOrName: n, deleteHandle: r, customOptions: l, parent: i, parentPath: o }) {
  const { collapsed: c, onCollapse: u, enableClipboard: d, ignoreLargeArray: g, collapseObjectsAfterLength: m, editable: y, onDelete: E, src: w, onAdd: C, onEdit: N, onChange: A, forceUpdate: D, displaySize: P, CustomOperation: v } = (0, import_react.useContext)(W), h = typeof n < "u" ? [...o, String(n)] : o;
  if (!g && Array.isArray(e) && e.length > 100)
    return a.jsx(ln, { node: e, depth: t, indexOrName: n, deleteHandle: r, customOptions: l, parentPath: h });
  const S = B(e), [x, H] = (0, import_react.useState)(Me(e, t, n, c, m, l)), O = (f) => {
    u == null ? void 0 : u({ isCollapsing: !f, node: e, depth: t, indexOrName: n }), H(f);
  };
  (0, import_react.useEffect)(() => {
    O(Me(e, t, n, c, m, l));
  }, [c, m]);
  const Y = (0, import_react.useCallback)((f, j, z) => {
    Array.isArray(e) ? e[+f] = j : e && (e[f] = j), N && N({
      newValue: j,
      oldValue: z,
      depth: t,
      src: w,
      indexOrName: f,
      parentType: S ? "object" : "array",
      parentPath: h
    }), A && A({ type: "edit", depth: t, src: w, indexOrName: f, parentType: S ? "object" : "array", parentPath: h }), D();
  }, [e, N, A, D]), R = (f) => {
    Array.isArray(e) ? e.splice(+f, 1) : e && delete e[f], D();
  }, [L, U] = (0, import_react.useState)(false), Z = () => {
    U(false), r && r(n, h), E && E({ value: e, depth: t, src: w, indexOrName: n, parentType: S ? "object" : "array", parentPath: h }), A && A({
      type: "delete",
      depth: t,
      src: w,
      indexOrName: n,
      parentType: S ? "object" : "array",
      parentPath: h
    });
  }, [T, $] = (0, import_react.useState)(false), k = (0, import_react.useRef)(null), V = () => {
    var f;
    if (S) {
      const j = (f = k.current) === null || f === void 0 ? void 0 : f.value;
      j && (e[j] = null, k.current && (k.current.value = ""), $(false), C && C({ indexOrName: j, depth: t, src: w, parentType: "object", parentPath: h }), A && A({ type: "add", indexOrName: j, depth: t, src: w, parentType: "object", parentPath: h }));
    } else if (Array.isArray(e)) {
      const j = e;
      j.push(null), C && C({ indexOrName: j.length - 1, depth: t, src: w, parentType: "array", parentPath: h }), A && A({ type: "add", indexOrName: j.length - 1, depth: t, src: w, parentType: "array", parentPath: h });
    }
    D();
  }, M = (f) => {
    f.key === "Enter" ? (f.preventDefault(), V()) : f.key === "Escape" && p();
  }, s = L || T, p = () => {
    U(false), $(false);
  }, b = a.jsxs(a.Fragment, { children: [!x && !s && a.jsxs("span", Object.assign({ onClick: () => O(true), className: "jv-size-chevron" }, { children: [G(P, t, x) && a.jsxs("span", Object.assign({ className: "jv-size" }, { children: [te(e), " Items"] })), a.jsx(_e, { className: "jv-chevron" })] })), T && S && a.jsx("input", { className: "json-view--input", placeholder: "property", ref: k, onKeyDown: M }), s && a.jsx(Ne, { className: "json-view--edit", style: { display: "inline-block" }, onClick: T ? V : Z }), s && a.jsx(Oe, { className: "json-view--edit", style: { display: "inline-block" }, onClick: p }), !x && !s && d && oe(l) && a.jsx(ie, { node: e, nodeMeta: { depth: t, indexOrName: n, parent: i, parentPath: o, currentPath: h } }), !x && !s && lt(y) && ct(l) && a.jsx(ut, { className: "json-view--edit", onClick: () => {
    S ? ($(true), setTimeout(() => {
      var f;
      return (f = k.current) === null || f === void 0 ? void 0 : f.focus();
    })) : V();
  } }), !x && !s && Se(y) && ke(l) && r && a.jsx(Te, { className: "json-view--edit", onClick: () => U(true) }), typeof v == "function" ? a.jsx(v, { node: e }) : null] });
  return Array.isArray(e) ? a.jsxs(a.Fragment, { children: [a.jsx("span", { children: "[" }), b, x ? a.jsx("button", Object.assign({ onClick: () => O(false), className: "jv-button" }, { children: "..." })) : a.jsx("div", Object.assign({ className: "jv-indent" }, { children: e.map((f, j) => a.jsx(me, { indexOrName: j, value: f, depth: t, parent: e, deleteHandle: R, editHandle: Y, parentPath: h }, String(n) + String(j))) })), a.jsx("span", { children: "]" }), x && G(P, t, x) && a.jsxs("span", Object.assign({ onClick: () => O(false), className: "jv-size" }, { children: [te(e), " Items"] }))] }) : S ? a.jsxs(a.Fragment, { children: [a.jsx("span", { children: "{" }), b, x ? a.jsx("button", Object.assign({ onClick: () => O(false), className: "jv-button" }, { children: "..." })) : a.jsx("div", Object.assign({ className: "jv-indent" }, { children: Object.entries(e).map(([f, j]) => a.jsx(me, { indexOrName: f, value: j, depth: t, parent: e, deleteHandle: R, editHandle: Y, parentPath: h }, String(n) + String(f))) })), a.jsx("span", { children: "}" }), x && G(P, t, x) && a.jsxs("span", Object.assign({ onClick: () => O(false), className: "jv-size" }, { children: [te(e), " Items"] }))] }) : a.jsx("span", { children: String(e) });
}
var un = import_react.default.forwardRef(({ str: e, className: t, ctrlClick: n }, r) => {
  let { collapseStringMode: l, collapseStringsAfterLength: i, customizeCollapseStringUI: o } = (0, import_react.useContext)(W);
  const [c, u] = (0, import_react.useState)(true), d = (0, import_react.useRef)(null);
  i = i > 0 ? i : 0;
  const g = e.replace(/\s+/g, " "), m = typeof o == "function" ? o(g, c) : typeof o == "string" ? o : "...", y = (E) => {
    var w;
    if ((E.ctrlKey || E.metaKey) && n)
      n(E);
    else {
      const C = window.getSelection();
      if (C && C.anchorOffset !== C.focusOffset && ((w = C.anchorNode) === null || w === void 0 ? void 0 : w.parentElement) === d.current)
        return;
      u(!c);
    }
  };
  if (e.length <= i)
    return a.jsxs("span", Object.assign({ ref: d, className: t, onClick: n }, { children: ['"', e, '"'] }));
  if (l === "address")
    return e.length <= 10 ? a.jsxs("span", Object.assign({ ref: d, className: t, onClick: n }, { children: ['"', e, '"'] })) : a.jsxs("span", Object.assign({ ref: d, onClick: y, className: t + " cursor-pointer" }, { children: ['"', c ? [g.slice(0, 6), m, g.slice(-4)] : e, '"'] }));
  if (l === "directly")
    return a.jsxs("span", Object.assign({ ref: d, onClick: y, className: t + " cursor-pointer" }, { children: ['"', c ? [g.slice(0, i), m] : e, '"'] }));
  if (l === "word") {
    let E = i, w = i + 1, C = g, N = 1;
    for (; ; ) {
      if (/\W/.test(e[E])) {
        C = e.slice(0, E);
        break;
      }
      if (/\W/.test(e[w])) {
        C = e.slice(0, w);
        break;
      }
      if (N === 6) {
        C = e.slice(0, i);
        break;
      }
      N++, E--, w++;
    }
    return a.jsxs("span", Object.assign({ ref: d, onClick: y, className: t + " cursor-pointer" }, { children: ['"', c ? [C, m] : e, '"'] }));
  }
  return a.jsxs("span", Object.assign({ ref: d, className: t }, { children: ['"', e, '"'] }));
});
var et;
function ye() {
  return ye = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n)
        Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, ye.apply(this, arguments);
}
var fn = function(t) {
  return _.createElement("svg", ye({
    xmlns: "http://www.w3.org/2000/svg",
    width: 24,
    height: 24,
    fill: "none",
    viewBox: "0 0 24 24"
  }, t), et || (et = _.createElement("path", {
    fill: "currentColor",
    d: "M17.25 3H6.75A3.754 3.754 0 0 0 3 6.75v10.5A3.754 3.754 0 0 0 6.75 21h10.5A3.754 3.754 0 0 0 21 17.25V6.75A3.754 3.754 0 0 0 17.25 3Zm2.25 14.25c0 1.24-1.01 2.25-2.25 2.25H6.75c-1.24 0-2.25-1.01-2.25-2.25V6.75c0-1.24 1.01-2.25 2.25-2.25h10.5c1.24 0 2.25 1.01 2.25 2.25v10.5Zm-6.09-9.466-5.031 5.03a2.981 2.981 0 0 0-.879 2.121v1.19c0 .415.336.75.75.75h1.19c.8 0 1.554-.312 2.12-.879l5.03-5.03a2.252 2.252 0 0 0 0-3.182c-.85-.85-2.331-.85-3.18 0Zm-2.91 7.151c-.28.28-.666.44-1.06.44H9v-.44c0-.4.156-.777.44-1.06l3.187-3.188 1.06 1.061-3.187 3.188Zm5.03-5.03-.782.783-1.06-1.061.782-.782a.766.766 0 0 1 1.06 0 .75.75 0 0 1 0 1.06Z"
  })));
};
var tt;
var nt;
function we() {
  return we = Object.assign ? Object.assign.bind() : function(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t];
      for (var r in n)
        Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
    }
    return e;
  }, we.apply(this, arguments);
}
var dn = function(t) {
  return _.createElement("svg", we({
    xmlns: "http://www.w3.org/2000/svg",
    width: 24,
    height: 24,
    fill: "none",
    viewBox: "0 0 24 24"
  }, t), tt || (tt = _.createElement("path", {
    fill: "currentColor",
    d: "M6.75 3h5.5v1.5h-5.5C5.51 4.5 4.5 5.51 4.5 6.75v10.5c0 1.24 1.01 2.25 2.25 2.25h10.5c1.24 0 2.25-1.01 2.25-2.25v-5.5H21v5.5A3.754 3.754 0 0 1 17.25 21H6.75A3.754 3.754 0 0 1 3 17.25V6.75A3.754 3.754 0 0 1 6.75 3Z"
  })), nt || (nt = _.createElement("path", {
    fill: "currentColor",
    d: "M20.013 3h-3.946a.987.987 0 0 0 0 1.973h1.564l-6.342 6.342a1.004 1.004 0 0 0 0 1.396 1.004 1.004 0 0 0 1.396 0l6.342-6.342v1.564a.987.987 0 0 0 1.973 0V3.987A.987.987 0 0 0 20.013 3Z"
  })));
};
function ft({ node: e, depth: t, deleteHandle: n, indexOrName: r, parent: l, editHandle: i, parentPath: o }) {
  const { collapseStringsAfterLength: c, enableClipboard: u, editable: d, src: g, onDelete: m, onChange: y, customizeNode: E, matchesURL: w, urlRegExp: C, EditComponent: N, DoneComponent: A, CancelComponent: D, CustomOperation: P } = (0, import_react.useContext)(W);
  let v;
  if (typeof E == "function" && (v = Ae(E, [{ node: e, depth: t, indexOrName: r }])), v) {
    if ((0, import_react.isValidElement)(v))
      return v;
    if (tn(v)) {
      const h = v;
      return a.jsx(h, { node: e, depth: t, indexOrName: r });
    }
  }
  if (Array.isArray(e) || B(e))
    return a.jsx(cn, { parent: l, node: e, depth: t, indexOrName: r, deleteHandle: n, parentPath: o, customOptions: typeof v == "object" ? v : void 0 });
  {
    const h = typeof e, S = typeof r < "u" ? [...o, String(r)] : o, [x, H] = (0, import_react.useState)(false), [O, Y] = (0, import_react.useState)(false), R = (0, import_react.useRef)(null), L = () => {
      H(true), setTimeout(() => {
        var f, j;
        (f = window.getSelection()) === null || f === void 0 || f.selectAllChildren(R.current), (j = R.current) === null || j === void 0 || j.focus();
      });
    }, U = (0, import_react.useCallback)(() => {
      let f = R.current.innerText;
      try {
        const j = JSON.parse(f);
        i && i(r, j, e, o);
      } catch {
        const z = rn(h, f);
        i && i(r, z, e, o);
      }
      H(false);
    }, [i, r, e, o, h]), Z = () => {
      H(false), Y(false);
    }, T = () => {
      Y(false), n && n(r, o), m && m({
        value: e,
        depth: t,
        src: g,
        indexOrName: r,
        parentType: Array.isArray(l) ? "array" : "object",
        parentPath: o
      }), y && y({
        depth: t,
        src: g,
        indexOrName: r,
        parentType: Array.isArray(l) ? "array" : "object",
        type: "delete",
        parentPath: o
      });
    }, $ = (0, import_react.useCallback)((f) => {
      f.key === "Enter" ? (f.preventDefault(), U()) : f.key === "Escape" && Z();
    }, [U]), k = x || O, V = !k && He(d) && Ue2(v) && i ? (f) => {
      (f.ctrlKey || f.metaKey) && L();
    } : void 0, M = a.jsxs(a.Fragment, { children: [k && (typeof A == "function" ? a.jsx(A, { className: "json-view--edit", style: { display: "inline-block" }, onClick: O ? T : U }) : a.jsx(Ne, { className: "json-view--edit", style: { display: "inline-block" }, onClick: O ? T : U })), k && (typeof D == "function" ? a.jsx(D, { className: "json-view--edit", style: { display: "inline-block" }, onClick: Z }) : a.jsx(Oe, { className: "json-view--edit", style: { display: "inline-block" }, onClick: Z })), !k && u && oe(v) && a.jsx(ie, { node: e, nodeMeta: { depth: t, indexOrName: r, parent: l, parentPath: o, currentPath: S } }), !k && w && h === "string" && C.test(e) && nn(v) && a.jsx("a", Object.assign({ href: e, target: "_blank", className: "json-view--link" }, { children: a.jsx(dn, {}) })), !k && He(d) && Ue2(v) && i && (typeof N == "function" ? a.jsx(N, { className: "json-view--edit", onClick: L }) : a.jsx(fn, { className: "json-view--edit", onClick: L })), !k && Se(d) && ke(v) && n && a.jsx(Te, { className: "json-view--edit", onClick: () => Y(true) }), typeof P == "function" ? a.jsx(P, { node: e }) : null] });
    let s = "json-view--string";
    switch (h) {
      case "number":
      case "bigint":
        s = "json-view--number";
        break;
      case "boolean":
        s = "json-view--boolean";
        break;
      case "object":
        s = "json-view--null";
        break;
    }
    typeof (v == null ? void 0 : v.className) == "string" && (s += " " + v.className), O && (s += " json-view--deleting");
    let p = String(e);
    h === "bigint" && (p += "n");
    const b = (0, import_react.useMemo)(() => a.jsx("span", { contentEditable: true, className: s, dangerouslySetInnerHTML: { __html: h === "string" ? `"${p}"` : p }, ref: R, onKeyDown: $ }), [p, h, $]);
    return h === "string" ? a.jsxs(a.Fragment, { children: [x ? b : e.length > c ? a.jsx(un, { str: e, ref: R, className: s, ctrlClick: V }) : a.jsxs("span", Object.assign({ className: s, onClick: V }, { children: ['"', p, '"'] })), M] }) : a.jsxs(a.Fragment, { children: [x ? b : a.jsx("span", Object.assign({ className: s, onClick: V }, { children: p })), M] });
  }
}
var dt = /^(((ht|f)tps?):\/\/)?([^!@#$%^&*?.\s-]([^!@#$%^&*?.\s]{0,63}[^!@#$%^&*?.\s])?\.)+[a-z]{2,6}\/?/;
var W = (0, import_react.createContext)({
  src: void 0,
  collapseStringsAfterLength: 99,
  collapseStringMode: "directly",
  customizeCollapseStringUI: void 0,
  collapseObjectsAfterLength: 20,
  collapsed: false,
  onCollapse: void 0,
  enableClipboard: true,
  editable: false,
  onEdit: void 0,
  onDelete: void 0,
  onAdd: void 0,
  onChange: void 0,
  forceUpdate: () => {
  },
  customizeNode: void 0,
  customizeCopy: () => {
  },
  displaySize: void 0,
  displayArrayIndex: true,
  matchesURL: false,
  urlRegExp: dt,
  ignoreLargeArray: false,
  CopyComponent: void 0,
  CopiedComponent: void 0,
  EditComponent: void 0,
  CancelComponent: void 0,
  DoneComponent: void 0,
  CustomOperation: void 0
});
function pn({ src: e, collapseStringsAfterLength: t = 99, collapseStringMode: n = "directly", customizeCollapseStringUI: r, collapseObjectsAfterLength: l = 99, collapsed: i, onCollapse: o, enableClipboard: c = true, editable: u = false, onEdit: d, onDelete: g, onAdd: m, onChange: y, dark: E = false, theme: w = "default", customizeNode: C, customizeCopy: N = (Z) => Qt(Z), displaySize: A, displayArrayIndex: D = true, style: P, className: v, matchesURL: h = false, urlRegExp: S = dt, ignoreLargeArray: x = false, CopyComponent: H, CopiedComponent: O, EditComponent: Y, CancelComponent: R, DoneComponent: L, CustomOperation: U }) {
  const [Z, T] = (0, import_react.useState)(0), $ = (0, import_react.useCallback)(() => T((M) => ++M), []), [k, V] = (0, import_react.useState)(e);
  return (0, import_react.useEffect)(() => V(e), [e]), a.jsx(W.Provider, Object.assign({ value: {
    src: k,
    collapseStringsAfterLength: t,
    collapseStringMode: n,
    customizeCollapseStringUI: r,
    collapseObjectsAfterLength: l,
    collapsed: i,
    onCollapse: o,
    enableClipboard: c,
    editable: u,
    onEdit: d,
    onDelete: g,
    onAdd: m,
    onChange: y,
    forceUpdate: $,
    customizeNode: C,
    customizeCopy: N,
    displaySize: A,
    displayArrayIndex: D,
    matchesURL: h,
    urlRegExp: S,
    ignoreLargeArray: x,
    CopyComponent: H,
    CopiedComponent: O,
    EditComponent: Y,
    CancelComponent: R,
    DoneComponent: L,
    CustomOperation: U
  } }, { children: a.jsx("code", Object.assign({ className: "json-view" + (E ? " dark" : "") + (w && w !== "default" ? " json-view_" + w : "") + (v ? " " + v : ""), style: P }, { children: a.jsx(ft, { node: k, depth: 1, editHandle: (M, s, p, b) => {
    V(s), d && d({
      newValue: s,
      oldValue: p,
      depth: 1,
      src: k,
      indexOrName: M,
      parentType: null,
      parentPath: b
    }), y && y({ type: "edit", depth: 1, src: k, indexOrName: M, parentType: null, parentPath: b });
  }, deleteHandle: (M, s) => {
    V(void 0), g && g({
      value: k,
      depth: 1,
      src: k,
      indexOrName: M,
      parentType: null,
      parentPath: s
    }), y && y({
      depth: 1,
      src: k,
      indexOrName: M,
      parentType: null,
      type: "delete",
      parentPath: s
    });
  }, parentPath: [] }) })) }));
}
var gn = ["id", "msg", "time", "level", "step", "flows", "traceId"];
var mn = ({ log: e, onClose: t }) => {
  const [n, r] = (0, import_react.useState)(false), l = (0, import_react.useMemo)(() => {
    if (!e)
      return null;
    const i = Object.keys(e ?? {}).filter((o) => !gn.includes(o));
    return r(i.length > 0), i.reduce(
      (o, c) => (o[c] = e[c], o),
      {}
    );
  }, [e]);
  return e ? a.jsx(
    qg,
    {
      onClose: t,
      title: "Logs Details",
      subtitle: "Details including custom properties",
      actions: [{ icon: a.jsx(ot, {}), onClick: t, label: "Close" }],
      details: [
        {
          label: "Level",
          value: a.jsxs("div", { className: "flex items-center gap-2", children: [
            a.jsx(Kg, { level: e.level }),
            a.jsx("div", { className: "capitalize", children: e.level })
          ] })
        },
        { label: "Time", value: it(e.time) },
        { label: "Step", value: e.step },
        { label: "Flows", value: e.flows.join(", ") },
        { label: "Trace ID", value: e.traceId }
      ],
      children: n && a.jsx(pn, { src: l, theme: "default", enableClipboard: true })
    }
  ) : null;
};
var bn = () => {
  const e = ee((u) => u.logs), t = ee((u) => u.resetLogs), n = ee((u) => u.selectedLogId), r = ee((u) => u.selectLogId), l = (0, import_react.useMemo)(
    () => n ? e.find((u) => u.id === n) : void 0,
    [e, n]
  ), [i, o] = (0, import_react.useState)(""), c = (0, import_react.useMemo)(() => e.filter((u) => u.msg.toLowerCase().includes(i.toLowerCase()) || u.traceId.toLowerCase().includes(i.toLowerCase()) || u.step.toLowerCase().includes(i.toLowerCase())), [e, i]);
  return a.jsxs(a.Fragment, { children: [
    a.jsxs("div", { className: "grid grid-rows-[auto_1fr] h-full", "data-testid": "logs-container", children: [
      a.jsxs("div", { className: "flex p-2 border-b gap-2", "data-testid": "logs-search-container", children: [
        a.jsxs("div", { className: "flex-1 relative", children: [
          a.jsx(
            qm,
            {
              variant: "shade",
              value: i,
              onChange: (u) => o(u.target.value),
              className: "px-9! font-medium",
              placeholder: "Search by Trace ID or Message"
            }
          ),
          a.jsx(Zt, { className: "absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground/50" }),
          a.jsx(
            ot,
            {
              className: "cursor-pointer absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground/50 hover:text-muted-foreground",
              onClick: () => o("")
            }
          )
        ] }),
        a.jsxs(Ue, { variant: "default", onClick: t, className: "h-[34px]", children: [
          a.jsx(zt, {}),
          " Clear"
        ] })
      ] }),
      a.jsx(Vh, { children: a.jsx(Gh, { className: "font-mono font-medium", children: c.map((u, d) => a.jsxs(
        Kh,
        {
          "data-testid": "log-row",
          className: X("font-mono font-semibold cursor-pointer border-0", {
            "bg-muted-foreground/10 hover:bg-muted-foreground/20": n === u.id,
            "hover:bg-muted-foreground/10": n !== u.id
          }),
          onClick: () => r(u.id),
          children: [
            a.jsxs(
              Xh,
              {
                "data-testid": `time-${d}`,
                className: "whitespace-nowrap flex items-center gap-2 text-muted-foreground",
                children: [
                  a.jsx(Kg, { level: u.level }),
                  it(u.time)
                ]
              }
            ),
            a.jsx(
              Xh,
              {
                "data-testid": `trace-${u.traceId}`,
                className: "whitespace-nowrap cursor-pointer hover:text-primary text-muted-foreground",
                onClick: () => o(u.traceId),
                children: u.traceId
              }
            ),
            a.jsx(Xh, { "data-testid": `step-${d}`, "aria-label": u.step, className: "whitespace-nowrap", children: u.step }),
            a.jsx(
              Xh,
              {
                "data-testid": `msg-${d}`,
                "aria-label": u.msg,
                className: "whitespace-nowrap max-w-[500px] truncate w-full",
                children: u.msg
              }
            )
          ]
        },
        d
      )) }) })
    ] }),
    a.jsx(mn, { log: l, onClose: () => r(void 0) })
  ] });
};
Rt();
export {
  bn as LogsPage
};
/*! Bundled license information:

@motiadev/plugin-logs/dist/index.js:
  (**
   * @license React
   * react-jsx-runtime.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

@motiadev/plugin-logs/dist/index.js:
  (**
   * @license React
   * react-jsx-runtime.development.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
  (**
   * @license lucide-react v0.545.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)
*/
//# sourceMappingURL=@motiadev_plugin-logs.js.map
