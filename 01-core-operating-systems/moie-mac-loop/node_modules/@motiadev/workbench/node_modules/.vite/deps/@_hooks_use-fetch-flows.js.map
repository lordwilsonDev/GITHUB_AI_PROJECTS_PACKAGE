{
  "version": 3,
  "sources": ["../../../dist/src/hooks/use-fetch-flows.js"],
  "sourcesContent": ["import { useStreamGroup } from '@motiadev/stream-client-react';\nimport { useEffect } from 'react';\nimport { useFlowStore } from '@/stores/use-flow-store';\nconst streamGroupArgs = { streamName: '__motia.flows', groupId: 'default' };\nexport const useFetchFlows = () => {\n    const setFlows = useFlowStore((state) => state.setFlows);\n    const selectFlowId = useFlowStore((state) => state.selectFlowId);\n    const clearSelectedFlowId = useFlowStore((state) => state.clearSelectedFlowId);\n    const selectedFlowId = useFlowStore((state) => state.selectedFlowId);\n    const { data: flows } = useStreamGroup(streamGroupArgs);\n    useEffect(() => {\n        if (flows)\n            setFlows(flows.map((flow) => flow.id));\n    }, [flows, setFlows]);\n    useEffect(() => {\n        const hasFlows = flows.length > 0;\n        const isSelectedFlowValid = selectedFlowId && flows.some((flow) => flow.id === selectedFlowId);\n        if (!hasFlows && selectedFlowId) {\n            clearSelectedFlowId();\n            return;\n        }\n        if (hasFlows && (!selectedFlowId || !isSelectedFlowValid)) {\n            selectFlowId(flows[0].id);\n        }\n    }, [flows, selectedFlowId, selectFlowId, clearSelectedFlowId]);\n};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AACA,mBAA0B;AAE1B,IAAM,kBAAkB,EAAE,YAAY,iBAAiB,SAAS,UAAU;AACnE,IAAM,gBAAgB,MAAM;AAC/B,QAAM,WAAW,aAAa,CAAC,UAAU,MAAM,QAAQ;AACvD,QAAM,eAAe,aAAa,CAAC,UAAU,MAAM,YAAY;AAC/D,QAAM,sBAAsB,aAAa,CAAC,UAAU,MAAM,mBAAmB;AAC7E,QAAM,iBAAiB,aAAa,CAAC,UAAU,MAAM,cAAc;AACnE,QAAM,EAAE,MAAM,MAAM,IAAI,eAAe,eAAe;AACtD,8BAAU,MAAM;AACZ,QAAI;AACA,eAAS,MAAM,IAAI,CAAC,SAAS,KAAK,EAAE,CAAC;AAAA,EAC7C,GAAG,CAAC,OAAO,QAAQ,CAAC;AACpB,8BAAU,MAAM;AACZ,UAAM,WAAW,MAAM,SAAS;AAChC,UAAM,sBAAsB,kBAAkB,MAAM,KAAK,CAAC,SAAS,KAAK,OAAO,cAAc;AAC7F,QAAI,CAAC,YAAY,gBAAgB;AAC7B,0BAAoB;AACpB;AAAA,IACJ;AACA,QAAI,aAAa,CAAC,kBAAkB,CAAC,sBAAsB;AACvD,mBAAa,MAAM,CAAC,EAAE,EAAE;AAAA,IAC5B;AAAA,EACJ,GAAG,CAAC,OAAO,gBAAgB,cAAc,mBAAmB,CAAC;AACjE;",
  "names": []
}
